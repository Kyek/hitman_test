{% extends "base.html" %} {% block content %} 

<form method="post" action="{% url 'login' %}" novalidate>
  {% csrf_token %}

  <div class="field">
    <label class="label" for="{{ form.username.id_for_label }}">Username</label>
    <div class="control has-icons-left has-icons-right">
      {{ form.username }}
      <span class="icon is-small is-left">
        <i class="fas fa-envelope"></i>
      </span>
      {% if form.errors.username %}
      <span class="icon is-small is-right">
        <i class="fas fa-exclamation-triangle"></i>
      </span>
      {% endif %}
    </div>
    {% if form.errors.username %}
    {% for error in form.username.errors %}
      <p class="help is-danger">{{ error }}</p>
    {% endfor %}
    {% endif %}
  </div>
  <div class="field">
    <label class="label" for="{{ form.password.id_for_label }}">Password</label>
    <div class="control has-icons-left has-icons-right">
      {{ form.password }}
      <span class="icon is-small is-left">
        <i class="fas fa-lock"></i>
      </span>
      {% if form.errors.password %}
      <span class="icon is-small is-right">
        <i class="fas fa-exclamation-triangle"></i>
      </span>
      {% endif %}
    </div>
    {% if form.errors.password %}
    {% for error in form.password.errors %}
    <p class="help is-danger">{{ error }}</p>
    {% endfor %}
    {% endif %}
    {% if form.non_field_errors %}
    <p class="help is-danger">Please check that your credentials are correct</p>
    {% endif %}
  </div>

  <div class="field">
    <p class="control">
      <input type="submit" value="login" class="button is-success" />
      <input type="hidden" name="next" value="{{ next }}" />
    </p>
  </div>
</form>

{% endblock %}
